[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = --verbose --cov=core --cov-report=term-missing -m "not scraper and not manual"
asyncio_mode = strict
asyncio_default_fixture_loop_scope = function 
markers =
    slow: long-running tests
    network: needs outbound network
    scraper: scrapy-based site scraping
    manual: requires explicit opt-in
filterwarnings =
    ignore::_pytest.warning_types.PytestReturnNotNoneWarning
    ignore:.*PydanticDeprecatedSince20.*:DeprecationWarning
    ignore:.*Using the initialization functions in flask_caching.backend is deprecated.*:DeprecationWarning
    ignore:.*jsonschema.RefResolver is deprecated.*:DeprecationWarning