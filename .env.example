# Archivist Application Environment Configuration
# Copy this file to .env and update values for your environment

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Flask Security
SECRET_KEY=your-super-secret-key-here-change-this-in-production
FLASK_ENV=production
FLASK_DEBUG=0

# HTTPS Enforcement
FORCE_HTTPS=true

# CSRF Protection
WTF_CSRF_ENABLED=true
WTF_CSRF_TIME_LIMIT=3600

# Session Security
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax
PERMANENT_SESSION_LIFETIME=3600

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

# Global Rate Limits
RATE_LIMIT_DAILY=200 per day
RATE_LIMIT_HOURLY=50 per hour

# Endpoint-Specific Rate Limits
BROWSE_RATE_LIMIT=30 per minute
TRANSCRIBE_RATE_LIMIT=10 per minute
QUEUE_RATE_LIMIT=60 per minute
QUEUE_OPERATION_RATE_LIMIT=10 per minute
FILE_OPERATION_RATE_LIMIT=30 per minute

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Configuration
POSTGRES_USER=archivist
POSTGRES_PASSWORD=your-secure-database-password
POSTGRES_DB=archivist
DATABASE_URL=postgresql://archivist:your-secure-database-password@localhost:5432/archivist

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis for caching and rate limiting
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=your-secure-redis-password
REDIS_URL=redis://:your-secure-redis-password@localhost:6379/0

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS Settings (replace with your actual domains in production)
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-CSRF-Token

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Server Settings
API_HOST=0.0.0.0
API_PORT=5050
API_WORKERS=4

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Base paths
NAS_PATH=/mnt
OUTPUT_DIR=/tmp/archivist-output

# Storage Configuration
UPLOAD_FOLDER=/app/uploads
OUTPUT_FOLDER=/app/outputs

# =============================================================================
# ML MODEL CONFIGURATION
# =============================================================================

# WhisperX Configuration
WHISPER_MODEL=large-v2
USE_GPU=false
COMPUTE_TYPE=int8
BATCH_SIZE=16
NUM_WORKERS=4
LANGUAGE=en

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Monitoring Settings
ENABLE_METRICS=true
PROMETHEUS_MULTIPROC_DIR=/tmp
GRAFANA_PASSWORD=your-secure-grafana-password

# Logging Configuration
LOG_LEVEL=INFO
LOG_FILE=/app/logs/app.log

# =============================================================================
# FLEX SERVER CONFIGURATION
# =============================================================================

# Flex Server Settings
FLEX_SERVERS=192.168.181.56,192.168.181.57,192.168.181.58,192.168.181.59,192.168.181.60,192.168.181.61,192.168.181.62,192.168.181.63,192.168.181.64
FLEX_USERNAME=admin
FLEX_PASSWORD=your-secure-flex-password

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server Settings
SERVER_NAME=yourdomain.com:5050
PREFERRED_URL_SCHEME=https

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Testing Settings (set to false in production)
TESTING=false

# =============================================================================
# SECURITY NOTES
# =============================================================================

# IMPORTANT SECURITY REMINDERS:
# 1. Change all default passwords and keys
# 2. Use strong, unique passwords for all services
# 3. Enable HTTPS in production
# 4. Configure proper CORS origins
# 5. Set appropriate rate limits for your use case
# 6. Regularly update dependencies
# 7. Monitor security logs
# 8. Use environment-specific configurations
# 9. Never commit .env files to version control
# 10. Use secrets management in production environments 